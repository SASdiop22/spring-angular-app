<mat-card>
  <mat-card-title>Connexion</mat-card-title>
  <mat-card-content>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      <div *ngIf="errorMessage" class="error-banner" role="alert">
        <strong>❌ Erreur :</strong> {{ errorMessage }}
      </div>

      <p>
        <mat-form-field appearance="fill">
          <mat-label>Nom d'utilisateur</mat-label>
          <input type="text" matInput placeholder="Ex: alice.rh" formControlName="username">
          <mat-error *ngIf="loginForm.get('username')?.hasError('required')">
            Le nom d'utilisateur est obligatoire
          </mat-error>
        </mat-form-field>
      </p>

      <p>
        <mat-form-field appearance="fill">
          <mat-label>Mot de passe</mat-label>
          <input type="password" matInput placeholder="Votre mot de passe" formControlName="password">
          <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
            Le mot de passe est obligatoire
          </mat-error>
        </mat-form-field>
      </p>

      <div class="button">
        <button type="submit" mat-raised-button color="primary" [disabled]="loginForm.invalid || isLoading">
          <span *ngIf="!isLoading">Se connecter</span>
          <span *ngIf="isLoading">⏳ Chargement...</span>
        </button>
      </div>

    </form>
  </mat-card-content>
</mat-card>

<!-- Afficher les identifiants de test pour les développeurs -->
<mat-card style="margin-top: 20px; background-color: #f5f5f5;">
  <mat-card-title>Identifiants de test</mat-card-title>
  <mat-card-content>
    <p><strong>Username :</strong> alice.rh</p>
    <p><strong>Password :</strong> password123</p>
  </mat-card-content>
</mat-card>
